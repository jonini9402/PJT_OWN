<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "com.own.domain.music.dao.MusicDao">

	<select id="findBySpotifyTrackId" parameterType="string" resultType="com.own.domain.music.dto.model.Music">
		SELECT *
		FROM music
		WHERE spotify_track_id = #{spotifyTrackId}
	</select>
	
	<insert id="insertMusic" parameterType="com.own.domain.music.dto.request.MusicSaveRequest"
			useGeneratedKeys="true" keyProperty="musicId">
			
		INSERT INTO music (
			spotify_track_id, title, artist, album_img, duration, preview_url
		)
		VALUES (
			#{spotifyTrackId}, #{musicTitle}, #{artist}, #{albumImg},
			#{duration}, #{previewUrl}
		)
	
	</insert>

</mapper>